import{o as R,c as I,a as E,t as B,j as Y,d as Q,k as F,l as Rt,m as ot,r as K,p as kt,q as Ot,h as j,w as pt,v as $t,s as mt,n as it,F as bt,x as It,y as Vt,g as st,z as Pt,e as Kt,u as Bt,A as Ft,B as qt,_ as Wt,i as G}from"./index-BKZgOjK_.js";const Yt=E("h1",null,[E("a",{href:"#"},"ONLINE TODO LIST")],-1),Ut=E("a",{href:"#"},[E("img",{class:"logoImg2",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})],-1),zt={key:0,class:"todo_sm"},jt={__name:"NavInfo",props:{user:Object,loginStatus:Boolean},emits:["sign-out"],setup(v,{emit:O}){const s=O;return(i,a)=>(R(),I("nav",null,[Yt,Ut,E("ul",null,[v.loginStatus?(R(),I("li",zt,[E("span",null,"歡迎來到 "+B(v.user.nickname)+" 的待辦清單",1)])):Y("",!0),E("li",null,[v.loginStatus?(R(),I("a",{key:0,href:"#",onClick:a[0]||(a[0]=Q(o=>s("sign-out"),["prevent"]))},"登出")):Y("",!0)])])]))}};var Lt={exports:{}},rt={exports:{}},at={exports:{}};/*!
  * Bootstrap data.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Et;function Qt(){return Et||(Et=1,function(v,O){(function(s,i){v.exports=i()})(F,function(){const s=new Map;return{set(a,o,e){s.has(a)||s.set(a,new Map);const n=s.get(a);if(!n.has(o)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(o,e)},get(a,o){return s.has(a)&&s.get(a).get(o)||null},remove(a,o){if(!s.has(a))return;const e=s.get(a);e.delete(o),e.size===0&&s.delete(a)}}})}(at)),at.exports}var lt={exports:{}},tt={exports:{}};/*!
  * Bootstrap index.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var vt;function H(){return vt||(vt=1,function(v,O){(function(s,i){i(O)})(F,function(s){const o="transitionend",e=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(h,c)=>`#${CSS.escape(c)}`)),t),n=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),l=t=>{do t+=Math.floor(Math.random()*1e6);while(document.getElementById(t));return t},u=t=>{if(!t)return 0;let{transitionDuration:h,transitionDelay:c}=window.getComputedStyle(t);const x=Number.parseFloat(h),k=Number.parseFloat(c);return!x&&!k?0:(h=h.split(",")[0],c=c.split(",")[0],(Number.parseFloat(h)+Number.parseFloat(c))*1e3)},A=t=>{t.dispatchEvent(new Event(o))},_=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),f=t=>_(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(e(t)):null,r=t=>{if(!_(t)||t.getClientRects().length===0)return!1;const h=getComputedStyle(t).getPropertyValue("visibility")==="visible",c=t.closest("details:not([open])");if(!c)return h;if(c!==t){const x=t.closest("summary");if(x&&x.parentNode!==c||x===null)return!1}return h},b=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",N=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const h=t.getRootNode();return h instanceof ShadowRoot?h:null}return t instanceof ShadowRoot?t:t.parentNode?N(t.parentNode):null},$=()=>{},S=t=>{t.offsetHeight},V=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,P=[],W=t=>{document.readyState==="loading"?(P.length||document.addEventListener("DOMContentLoaded",()=>{for(const h of P)h()}),P.push(t)):t()},U=()=>document.documentElement.dir==="rtl",g=t=>{W(()=>{const h=V();if(h){const c=t.NAME,x=h.fn[c];h.fn[c]=t.jQueryInterface,h.fn[c].Constructor=t,h.fn[c].noConflict=()=>(h.fn[c]=x,t.jQueryInterface)}})},m=(t,h=[],c=t)=>typeof t=="function"?t(...h):c,p=(t,h,c=!0)=>{if(!c){m(t);return}const k=u(h)+5;let L=!1;const d=({target:T})=>{T===h&&(L=!0,h.removeEventListener(o,d),m(t))};h.addEventListener(o,d),setTimeout(()=>{L||A(h)},k)},C=(t,h,c,x)=>{const k=t.length;let L=t.indexOf(h);return L===-1?!c&&x?t[k-1]:t[0]:(L+=c?1:-1,x&&(L=(L+k)%k),t[Math.max(0,Math.min(L,k-1))])};s.defineJQueryPlugin=g,s.execute=m,s.executeAfterTransition=p,s.findShadowRoot=N,s.getElement=f,s.getNextActiveElement=C,s.getTransitionDurationFromElement=u,s.getUID=l,s.getjQuery=V,s.isDisabled=b,s.isElement=_,s.isRTL=U,s.isVisible=r,s.noop=$,s.onDOMContentLoaded=W,s.parseSelector=e,s.reflow=S,s.toType=n,s.triggerTransitionEnd=A,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(tt,tt.exports)),tt.exports}/*!
  * Bootstrap event-handler.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Tt;function Z(){return Tt||(Tt=1,function(v,O){(function(s,i){v.exports=i(H())})(F,function(s){const i=/[^.]*(?=\..*)\.|.*/,a=/\..*/,o=/::\d+$/,e={};let n=1;const l={mouseenter:"mouseover",mouseleave:"mouseout"},u=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function A(g,m){return m&&`${m}::${n++}`||g.uidEvent||n++}function _(g){const m=A(g);return g.uidEvent=m,e[m]=e[m]||{},e[m]}function f(g,m){return function p(C){return U(C,{delegateTarget:g}),p.oneOff&&W.off(g,C.type,m),m.apply(g,[C])}}function r(g,m,p){return function C(t){const h=g.querySelectorAll(m);for(let{target:c}=t;c&&c!==this;c=c.parentNode)for(const x of h)if(x===c)return U(t,{delegateTarget:c}),C.oneOff&&W.off(g,t.type,m,p),p.apply(c,[t])}}function b(g,m,p=null){return Object.values(g).find(C=>C.callable===m&&C.delegationSelector===p)}function N(g,m,p){const C=typeof m=="string",t=C?p:m||p;let h=P(g);return u.has(h)||(h=g),[C,t,h]}function $(g,m,p,C,t){if(typeof m!="string"||!g)return;let[h,c,x]=N(m,p,C);m in l&&(c=(z=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return z.call(this,w)})(c));const k=_(g),L=k[x]||(k[x]={}),d=b(L,c,h?p:null);if(d){d.oneOff=d.oneOff&&t;return}const T=A(c,m.replace(i,"")),y=h?r(g,p,c):f(g,c);y.delegationSelector=h?p:null,y.callable=c,y.oneOff=t,y.uidEvent=T,L[T]=y,g.addEventListener(x,y,h)}function S(g,m,p,C,t){const h=b(m[p],C,t);h&&(g.removeEventListener(p,h,!!t),delete m[p][h.uidEvent])}function V(g,m,p,C){const t=m[p]||{};for(const[h,c]of Object.entries(t))h.includes(C)&&S(g,m,p,c.callable,c.delegationSelector)}function P(g){return g=g.replace(a,""),l[g]||g}const W={on(g,m,p,C){$(g,m,p,C,!1)},one(g,m,p,C){$(g,m,p,C,!0)},off(g,m,p,C){if(typeof m!="string"||!g)return;const[t,h,c]=N(m,p,C),x=c!==m,k=_(g),L=k[c]||{},d=m.startsWith(".");if(typeof h<"u"){if(!Object.keys(L).length)return;S(g,k,c,h,t?p:null);return}if(d)for(const T of Object.keys(k))V(g,k,T,m.slice(1));for(const[T,y]of Object.entries(L)){const D=T.replace(o,"");(!x||m.includes(D))&&S(g,k,c,y.callable,y.delegationSelector)}},trigger(g,m,p){if(typeof m!="string"||!g)return null;const C=s.getjQuery(),t=P(m),h=m!==t;let c=null,x=!0,k=!0,L=!1;h&&C&&(c=C.Event(m,p),C(g).trigger(c),x=!c.isPropagationStopped(),k=!c.isImmediatePropagationStopped(),L=c.isDefaultPrevented());const d=U(new Event(m,{bubbles:x,cancelable:!0}),p);return L&&d.preventDefault(),k&&g.dispatchEvent(d),d.defaultPrevented&&c&&c.preventDefault(),d}};function U(g,m={}){for(const[p,C]of Object.entries(m))try{g[p]=C}catch{Object.defineProperty(g,p,{configurable:!0,get(){return C}})}return g}return W})}(lt)),lt.exports}var ut={exports:{}},ct={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var yt;function Mt(){return yt||(yt=1,function(v,O){(function(s,i){v.exports=i()})(F,function(){function s(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function i(o){return o.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}return{setDataAttribute(o,e,n){o.setAttribute(`data-bs-${i(e)}`,n)},removeDataAttribute(o,e){o.removeAttribute(`data-bs-${i(e)}`)},getDataAttributes(o){if(!o)return{};const e={},n=Object.keys(o.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(const l of n){let u=l.replace(/^bs/,"");u=u.charAt(0).toLowerCase()+u.slice(1,u.length),e[u]=s(o.dataset[l])}return e},getDataAttribute(o,e){return s(o.getAttribute(`data-bs-${i(e)}`))}}})}(ct)),ct.exports}/*!
  * Bootstrap config.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var At;function _t(){return At||(At=1,function(v,O){(function(s,i){v.exports=i(Mt(),H())})(F,function(s,i){class a{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const l=i.isElement(n)?s.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...i.isElement(n)?s.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[l,u]of Object.entries(n)){const A=e[l],_=i.isElement(A)?"element":i.toType(A);if(!new RegExp(u).test(_))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${_}" but expected type "${u}".`)}}}return a})}(ut)),ut.exports}/*!
  * Bootstrap base-component.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wt;function Ht(){return wt||(wt=1,function(v,O){(function(s,i){v.exports=i(Qt(),Z(),_t(),H())})(F,function(s,i,a,o){const e="5.3.3";class n extends a{constructor(u,A){super(),u=o.getElement(u),u&&(this._element=u,this._config=this._getConfig(A),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),i.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,A,_=!0){o.executeAfterTransition(u,A,_)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return s.get(o.getElement(u),this.DATA_KEY)}static getOrCreateInstance(u,A={}){return this.getInstance(u)||new this(u,typeof A=="object"?A:null)}static get VERSION(){return e}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}return n})}(rt)),rt.exports}var dt={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ct;function nt(){return Ct||(Ct=1,function(v,O){(function(s,i){v.exports=i(H())})(F,function(s){const i=o=>{let e=o.getAttribute("data-bs-target");if(!e||e==="#"){let n=o.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>s.parseSelector(n)).join(","):null},a={find(o,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,o))},findOne(o,e=document.documentElement){return Element.prototype.querySelector.call(e,o)},children(o,e){return[].concat(...o.children).filter(n=>n.matches(e))},parents(o,e){const n=[];let l=o.parentNode.closest(e);for(;l;)n.push(l),l=l.parentNode.closest(e);return n},prev(o,e){let n=o.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(o,e){let n=o.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(o){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,o).filter(n=>!s.isDisabled(n)&&s.isVisible(n))},getSelectorFromElement(o){const e=i(o);return e&&a.findOne(e)?e:null},getElementFromSelector(o){const e=i(o);return e?a.findOne(e):null},getMultipleElementsFromSelector(o){const e=i(o);return e?a.find(e):[]}};return a})}(dt)),dt.exports}var ft={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Dt;function Gt(){return Dt||(Dt=1,function(v,O){(function(s,i){v.exports=i(Z(),_t(),H())})(F,function(s,i,a){const o="backdrop",e="fade",n="show",l=`mousedown.bs.${o}`,u={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},A={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _ extends i{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return u}static get DefaultType(){return A}static get NAME(){return o}show(r){if(!this._config.isVisible){a.execute(r);return}this._append();const b=this._getElement();this._config.isAnimated&&a.reflow(b),b.classList.add(n),this._emulateAnimation(()=>{a.execute(r)})}hide(r){if(!this._config.isVisible){a.execute(r);return}this._getElement().classList.remove(n),this._emulateAnimation(()=>{this.dispose(),a.execute(r)})}dispose(){this._isAppended&&(s.off(this._element,l),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add(e),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=a.getElement(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),s.on(r,l,()=>{a.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){a.executeAfterTransition(r,this._getElement(),this._config.isAnimated)}}return _})}(ft)),ft.exports}var et={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var St;function Jt(){return St||(St=1,function(v,O){(function(s,i){i(O,Z(),nt(),H())})(F,function(s,i,a,o){const e=(n,l="hide")=>{const u=`click.dismiss${n.EVENT_KEY}`,A=n.NAME;i.on(document,u,`[data-bs-dismiss="${A}"]`,function(_){if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),o.isDisabled(this))return;const f=a.getElementFromSelector(this)||this.closest(`.${A}`);n.getOrCreateInstance(f)[l]()})};s.enableDismissTrigger=e,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(et,et.exports)),et.exports}var ht={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var xt;function Xt(){return xt||(xt=1,function(v,O){(function(s,i){v.exports=i(Z(),nt(),_t())})(F,function(s,i,a){const o="focustrap",n=".bs.focustrap",l=`focusin${n}`,u=`keydown.tab${n}`,A="Tab",_="forward",f="backward",r={autofocus:!0,trapElement:null},b={autofocus:"boolean",trapElement:"element"};class N extends a{constructor(S){super(),this._config=this._getConfig(S),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return r}static get DefaultType(){return b}static get NAME(){return o}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),s.off(document,n),s.on(document,l,S=>this._handleFocusin(S)),s.on(document,u,S=>this._handleKeydown(S)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,s.off(document,n))}_handleFocusin(S){const{trapElement:V}=this._config;if(S.target===document||S.target===V||V.contains(S.target))return;const P=i.focusableChildren(V);P.length===0?V.focus():this._lastTabNavDirection===f?P[P.length-1].focus():P[0].focus()}_handleKeydown(S){S.key===A&&(this._lastTabNavDirection=S.shiftKey?f:_)}}return N})}(ht)),ht.exports}var gt={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Nt;function Zt(){return Nt||(Nt=1,function(v,O){(function(s,i){v.exports=i(Mt(),nt(),H())})(F,function(s,i,a){const o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",e=".sticky-top",n="padding-right",l="margin-right";class u{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,n,f=>f+_),this._setElementAttributes(o,n,f=>f+_),this._setElementAttributes(e,l,f=>f-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,n),this._resetElementAttributes(o,n),this._resetElementAttributes(e,l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,f,r){const b=this.getWidth(),N=$=>{if($!==this._element&&window.innerWidth>$.clientWidth+b)return;this._saveInitialAttribute($,f);const S=window.getComputedStyle($).getPropertyValue(f);$.style.setProperty(f,`${r(Number.parseFloat(S))}px`)};this._applyManipulationCallback(_,N)}_saveInitialAttribute(_,f){const r=_.style.getPropertyValue(f);r&&s.setDataAttribute(_,f,r)}_resetElementAttributes(_,f){const r=b=>{const N=s.getDataAttribute(b,f);if(N===null){b.style.removeProperty(f);return}s.removeDataAttribute(b,f),b.style.setProperty(f,N)};this._applyManipulationCallback(_,r)}_applyManipulationCallback(_,f){if(a.isElement(_)){f(_);return}for(const r of i.find(_,this._element))f(r)}}return u})}(gt)),gt.exports}/*!
  * Bootstrap modal.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(v,O){(function(s,i){v.exports=i(Ht(),Z(),nt(),Gt(),Jt(),Xt(),H(),Zt())})(F,function(s,i,a,o,e,n,l,u){const A="modal",f=".bs.modal",r=".data-api",b="Escape",N=`hide${f}`,$=`hidePrevented${f}`,S=`hidden${f}`,V=`show${f}`,P=`shown${f}`,W=`resize${f}`,U=`click.dismiss${f}`,g=`mousedown.dismiss${f}`,m=`keydown.dismiss${f}`,p=`click${f}${r}`,C="modal-open",t="fade",h="show",c="modal-static",x=".modal.show",k=".modal-dialog",L=".modal-body",d='[data-bs-toggle="modal"]',T={backdrop:!0,focus:!0,keyboard:!0},y={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class D extends s{constructor(w,M){super(w,M),this._dialog=a.findOne(k,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new u,this._addEventListeners()}static get Default(){return T}static get DefaultType(){return y}static get NAME(){return A}toggle(w){return this._isShown?this.hide():this.show(w)}show(w){this._isShown||this._isTransitioning||i.trigger(this._element,V,{relatedTarget:w}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(C),this._adjustDialog(),this._backdrop.show(()=>this._showElement(w)))}hide(){!this._isShown||this._isTransitioning||i.trigger(this._element,N).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(h),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){i.off(window,f),i.off(this._dialog,f),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new o({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new n({trapElement:this._element})}_showElement(w){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const M=a.findOne(L,this._dialog);M&&(M.scrollTop=0),l.reflow(this._element),this._element.classList.add(h);const q=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,i.trigger(this._element,P,{relatedTarget:w})};this._queueCallback(q,this._dialog,this._isAnimated())}_addEventListeners(){i.on(this._element,m,w=>{if(w.key===b){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),i.on(window,W,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),i.on(this._element,g,w=>{i.one(this._element,U,M=>{if(!(this._element!==w.target||this._element!==M.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(C),this._resetAdjustments(),this._scrollBar.reset(),i.trigger(this._element,S)})}_isAnimated(){return this._element.classList.contains(t)}_triggerBackdropTransition(){if(i.trigger(this._element,$).defaultPrevented)return;const M=this._element.scrollHeight>document.documentElement.clientHeight,q=this._element.style.overflowY;q==="hidden"||this._element.classList.contains(c)||(M||(this._element.style.overflowY="hidden"),this._element.classList.add(c),this._queueCallback(()=>{this._element.classList.remove(c),this._queueCallback(()=>{this._element.style.overflowY=q},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const w=this._element.scrollHeight>document.documentElement.clientHeight,M=this._scrollBar.getWidth(),q=M>0;if(q&&!w){const X=l.isRTL()?"paddingLeft":"paddingRight";this._element.style[X]=`${M}px`}if(!q&&w){const X=l.isRTL()?"paddingRight":"paddingLeft";this._element.style[X]=`${M}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(w,M){return this.each(function(){const q=D.getOrCreateInstance(this,w);if(typeof w=="string"){if(typeof q[w]>"u")throw new TypeError(`No method named "${w}"`);q[w](M)}})}}return i.on(document,p,d,function(z){const w=a.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&z.preventDefault(),i.one(w,V,X=>{X.defaultPrevented||i.one(w,S,()=>{l.isVisible(this)&&this.focus()})});const M=a.findOne(x);M&&D.getInstance(M).hide(),D.getOrCreateInstance(w).toggle(this)}),e.enableDismissTrigger(D),l.defineJQueryPlugin(D),D})})(Lt);var te=Lt.exports;const ee=Rt(te),se={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},oe={class:"modal-content"},ne={class:"modal-header"},ie={class:"modal-title"},re=E("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ae={class:"modal-body"},le={key:0},ue={class:"modal-footer"},ce={__name:"AlertModal",props:ot({todoLists:Object},{editText:{},editTextModifiers:{}}),emits:ot(["clear-text","delete-press","update-press","toggle-toast"],["update:editText"]),setup(v,{expose:O,emit:s}){const i=v,a=K(null),o=K(null),e=K({}),n=s;let l=K(""),u=kt(v,"editText");Ot(()=>{o.value=new ee(a.value)});const A=(r,b)=>{e.value=r,u.value=r.content,l.value=b,o.value.show()},_=()=>{o.value.hide(),n("clear-text")},f=()=>{l.value==="D"?(n("delete-press",e.value),o.value.hide()):i.todoLists.filter(r=>r.id!==e.value.id).findIndex(r=>r.content===u.value)===-1?(n("update-press",e.value),o.value.hide()):n("toggle-toast","更新失敗: 已有相同待辦事項,請調整文字")};return O({myModal_show:A,myModal_hide:_}),(r,b)=>(R(),I("div",{class:"modal",tabindex:"-1",ref_key:"modal",ref:a},[E("div",se,[E("div",oe,[E("div",ne,[E("h5",ie,B(j(l)==="D"?"是否刪除此待辦清單":"更新待辦清單內容")+B(e.value.id),1),re]),E("div",ae,[j(l)==="D"?(R(),I("p",le,B(e.value.content),1)):Y("",!0),j(l)==="E"?pt((R(),I("input",{key:1,type:"text","onUpdate:modelValue":b[0]||(b[0]=N=>mt(u)?u.value=N:u=N),value:"editText",placeholder:"請輸入待辦事項",style:{width:"100%"}},null,512)),[[$t,j(u)]]):Y("",!0)]),E("div",ue,[E("button",{type:"button",class:"btn btn-secondary",onClick:b[1]||(b[1]=N=>_())}," 取消 "),E("button",{type:"button",class:"btn btn-primary",onClick:b[2]||(b[2]=N=>f())},B(j(l)==="D"?"確認刪除":"確認更新"),1)])])])],512))}},de={class:"conatiner todoListPage vhContainerHalf"},fe={class:"todoList_Content"},he={key:0,class:"todoList_list_empty"},ge={class:"formControls",style:{"margin-left":"0px","padding-top":"30px"}},pe=E("a",{href:"#"},[E("img",{class:"logoImg",src:"https://img.freepik.com/free-vector/forgot-password-concept-illustration_114360-1123.jpg?t=st=1724662661~exp=1724666261~hmac=a6a692826766b8cdb5b35830e2ae839338351078601c524111877893ea48e371&w=826",alt:"",style:{width:"250px"}})],-1),me=E("h2",{class:"formControls_txt"},"請先登入",-1),_e={key:1},be={class:"inputBox"},Ee=E("i",{class:"fa fa-plus"},null,-1),ve=[Ee],Te={class:"todoList_list"},ye={key:0,class:"todoList_tab"},Ae={key:1,class:"todoList_list_empty"},we=E("p",null,"目前尚無待辦事項",-1),Ce=[we],De={key:2,class:"todoList_items"},Se={class:"todoList_label"},xe=["onUpdate:modelValue","onClick"],Ne=["onClick"],ke=E("i",{class:"fa fa-edit"},null,-1),Oe=[ke],$e=["onClick"],Le=E("i",{class:"fa fa-copy"},null,-1),Me=[Le],Re=["onClick"],Ie=E("i",{class:"fa fa-times"},null,-1),Ve=[Ie],Pe={key:0},Ke={class:"todoList_statistics"},Be={class:"progress"},Fe={__name:"TodoContent",props:ot({todoLists:Object,filterTodos:Object,loginStatus:Boolean,selectedTab:Number},{editText:{},editTextModifiers:{}}),emits:ot(["go-page","create-item","change-tab","toggle-todo","copy-todo","clear-text","delete-todo","update-todo","toast-popup"],["update:editText"]),setup(v,{emit:O}){const s=O,i=v;let a=kt(v,"editText");const o=K(null),e=()=>i.todoLists.filter(f=>f.status===!0),n=()=>i.todoLists.filter(f=>f.status===!1),l=()=>i.todoLists.length===0?"0%":(e().length/i.todoLists.length*100).toFixed(0)+"%",u=f=>{s("update-todo",f)},A=f=>{s("delete-todo",f)},_=f=>{s("toast-popup",f)};return(f,r)=>(R(),I(bt,null,[E("div",de,[E("div",fe,[v.loginStatus?Y("",!0):(R(),I("div",he,[E("form",ge,[pe,me,E("input",{class:"formControls_btnSubmit",type:"button",onClick:r[0]||(r[0]=b=>s("go-page")),value:"登入"})])])),v.loginStatus?(R(),I("div",_e,[E("div",be,[pt(E("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=b=>mt(a)?a.value=b:a=b),value:"editText",placeholder:"請輸入待辦事項"},null,512),[[$t,j(a)]]),E("a",{href:"#",onClick:r[2]||(r[2]=Q(b=>s("create-item"),["prevent"])),title:"新增"},ve)]),E("div",Te,[v.todoLists.length>0?(R(),I("ul",ye,[E("li",null,[E("a",{href:"#",onClick:r[3]||(r[3]=Q(b=>s("change-tab",0),["prevent"])),class:it([v.selectedTab===0?"active":""])},"全部("+B(v.todoLists.length)+")",3)]),E("li",null,[E("a",{href:"#",onClick:r[4]||(r[4]=Q(b=>s("change-tab",1),["prevent"])),class:it([v.selectedTab===1?"active":""])},"待完成("+B(n().length)+")",3)]),E("li",null,[E("a",{href:"#",onClick:r[5]||(r[5]=Q(b=>s("change-tab",2),["prevent"])),class:it([v.selectedTab===2?"active":""])},"已完成("+B(e().length)+")",3)])])):Y("",!0),v.todoLists.length===0?(R(),I("div",Ae,Ce)):Y("",!0),v.todoLists.length>0?(R(),I("div",De,[(R(!0),I(bt,null,It(v.filterTodos,(b,N)=>(R(),I("ul",{class:"todoList_item",key:N},[E("li",null,[E("label",Se,[pt(E("input",{class:"todoList_input",type:"checkbox","onUpdate:modelValue":$=>b.status=$,onClick:$=>s("toggle-todo",b)},null,8,xe),[[Pt,b.status]]),E("span",null,B(b.content),1)]),E("a",{href:"#",title:"編輯",onClick:Q($=>o.value.myModal_show(b,"E"),["prevent"])},Oe,8,Ne),E("a",{href:"#",title:"複製文字",onClick:Q($=>s("copy-todo",b.content),["prevent"])},Me,8,$e),E("a",{href:"#",title:"刪除",onClick:Q($=>o.value.myModal_show(b,"D"),["prevent"])},Ve,8,Re)])]))),128)),v.todoLists.length>0?(R(),I("div",Pe,[E("div",Ke,[E("p",null,B(n().length)+" 個待完成項目, 完成進度 "+B(l()),1)]),E("div",Be,[E("div",{class:"progress-bar",role:"progressbar",style:Vt({width:l()+""}),"aria-valuenow":"{{ parseInt(precentage())}}","aria-valuemin":"0","aria-valuemax":"100"},B(l()),5)])])):Y("",!0)])):Y("",!0)])])):Y("",!0)])]),st(ce,{ref_key:"XsModal",ref:o,todoLists:v.todoLists,editText:j(a),"onUpdate:editText":r[6]||(r[6]=b=>mt(a)?a.value=b:a=b),onUpdatePress:u,onDeletePress:A,onToggleToast:_,onClearText:r[7]||(r[7]=b=>s("clear-text"))},null,8,["todoLists","editText"])],64))}},qe={id:"todoListPage",class:"bg-half"},J="https://todolist-api.hexschool.io",Ye={__name:"TodoListView",setup(v){const O=Kt();Bt();const i=Ft.useLoading({}).show({backgroundColor:"#ffffff",opacity:.9});let a=K(!1),o=K(""),e=K(""),n=K("");const l=K(""),u=K(0),A=K(""),_=K([]),f=K([]),r=K({uid:"",nickname:""}),b=qt(()=>{if(u.value===0)return _.value;if(u.value===1)return _.value.filter(d=>d.status===!1);if(u.value===2)return _.value.filter(d=>d.status===!0)}),N=()=>{O.push("/")},$=d=>{u.value=d,h()},S=()=>_.value.filter(d=>d.status===!0),V=()=>_.value.filter(d=>d.status===!1),P=d=>{A.value=d},W=d=>_.value.findIndex(T=>T.content===d)!==-1,U=()=>(n=A.value===""?" 新增欄位輸入框不可為空值":"",n===""),g=()=>{A.value="",n=""},m=()=>{if(U())c();else{p("有錯誤無法新增:"+n);return}},p=d=>{f.value.push({message:d}),setTimeout(()=>{f.value.shift()},3e3)},C=async()=>{var d;l.value=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");try{const T=await G.get(`${J}/users/checkout`,{headers:{Authorization:`${l.value}`}});console.log("token.value:",l.value),o.value=T.data,r.value=T.data,a.value=(d=T.data)==null?void 0:d.status,a.value?(console.log(r.value.nickname+" 你已經登入囉"),h()):console.log("你還沒登入1!!"),setTimeout(()=>{i.hide()},800)}catch(T){setTimeout(()=>{i.hide()},800),T.code==="ERR_NETWORK"?p("錯誤:"+T.message):a.value=!1}};Ot(()=>{l.value=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),l.value!=""?(a.value=!0,C()):(i.hide(),setTimeout(()=>{N()},3e3))});const t=async()=>{try{const d=await G.post(`${J}/users/sign_out`,{},{headers:{Authorization:`${l.value}`}});e.value=d.data.message,document.cookie="myToken=; max-age=0; path=/;",console.log("你已登出,歡迎下次光臨!"),N()}catch(d){d.code==="ERR_NETWORK"?p("錯誤:"+d.message):console.log("signOut_err:",d.message)}},h=async()=>{try{const d=await G.get(`${J}/todos`,{headers:{Authorization:`${l.value}`}});_.value=d.data.data.length>0&&d.data.data,_.value=d.data.data.map(T=>({id:T.id,createTime:T.createTime,content:T.content,status:T.status,editing:!1}))}catch(d){d.code==="ERR_NETWORK"?p("錯誤:"+d.message):console.log("getTodoList_err:",d.message)}},c=async()=>{let d=A.value;if(W(d))p("已有相同待辦事項,請調整文字");else try{const T=await G.post(`${J}/todos`,{content:d},{headers:{Authorization:`${l.value}`}});let y;T.data.status==!0?(y=`新增待辦事項成功: ${d}`,g(),h()):y="新增待辦事項失敗,請稍後再試",p(y)}catch(T){let y=`新增待辦事項失敗, ${T.message}`;T.code==="ERR_NETWORK"?p("錯誤:"+T.message):(p(y),console.log("getTodoList_err:",T.message))}},x=async d=>{let T=d.id;try{const y=await G.put(`${J}/todos/${T}`,{content:A.value},{headers:{Authorization:`${l.value}`}});let D;if(y.data.status==!0){D="更新待辦事項成功";const z=_.value.findIndex(w=>w.id===d.id);_.value[z].content=A.value,g()}else D="更新待辦事項失敗,請稍後再試:"+y.data.message;p(D)}catch(y){let D=`更新待辦事項失敗, ${y.message}`;y.code==="ERR_NETWORK"?p("錯誤:"+y.message):(p(D),console.log("updateTodo_err:",y.message))}},k=async d=>{let T=d.id;try{const y=await G.delete(`${J}/todos/${T}`,{headers:{Authorization:`${l.value}`}});let D;if(y.data.status==!0){D="刪除待辦事項成功";const z=_.value.findIndex(w=>w.id===d.id);_.value.splice(z,1),g()}else D="刪除待辦事項失敗,請稍後再試:"+y.data.message;V().length===0&&S().length!==0&&(D+=", 恭喜你已完成所有待辦事項!"),p(D)}catch(y){let D=`刪除待辦事項失敗, ${y.message}`;y.code==="ERR_NETWORK"?p("錯誤:"+y.message):(p(D),console.log("deleteTodo_err:",y.message))}},L=async d=>{let T=d.id,y;try{const D=await G.patch(`${J}/todos/${T}/toggle`,{},{headers:{Authorization:`${l.value}`}});D.data.status==!0?y="待辦事項更新狀態成功":y="待辦事項更新狀態失敗,請稍後再試:"+D.data.message,g(),V().length===0&&S().length!==0&&(y+=", 恭喜你已完成所有待辦事項!"),p(y)}catch(D){let z=`更新待辦事項失敗, ${D.message}`;D.code==="ERR_NETWORK"?p("錯誤:"+D.message):(p(z),console.log("toggleTodo_err:",D.message))}};return(d,T)=>(R(),I("div",qe,[st(jt,{user:r.value,loginStatus:j(a),onSignOut:t},null,8,["user","loginStatus"]),st(Wt,{toasts:f.value},null,8,["toasts"]),st(Fe,{todoLists:_.value,filterTodos:b.value,loginStatus:j(a),selectedTab:u.value,editText:A.value,"onUpdate:editText":T[0]||(T[0]=y=>A.value=y),onGoPage:N,onCreateItem:m,onChangeTab:$,onToggleTodo:L,onCopyTodo:P,onUpdateTodo:x,onDeleteTodo:k,onClearText:g,onToastPopup:p},null,8,["todoLists","filterTodos","loginStatus","selectedTab","editText"])]))}};export{Ye as default};
