import{o as M,c as R,a as b,t as B,j as Y,d as Q,k as F,l as Rt,m as gt,r as K,p as kt,q as Ot,h as j,w as mt,v as $t,s as pt,n as ot,F as bt,x as It,y as Vt,g as st,z as Pt,e as Kt,u as Bt,A as Ft,B as qt,_ as Wt,i as G}from"./index-CPAv3QJh.js";const Yt=b("h1",null,[b("a",{href:"#"},"ONLINE TODO LIST")],-1),Ut=b("a",{href:"#"},[b("img",{class:"logoImg2",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})],-1),zt={key:0,class:"todo_sm"},jt={__name:"NavInfo",props:{user:Object,loginStatus:Boolean},emits:["sign-out"],setup(E,{emit:O}){const s=O;return(i,l)=>(M(),R("nav",null,[Yt,Ut,b("ul",null,[E.loginStatus?(M(),R("li",zt,[b("span",null,"歡迎來到 "+B(E.user.nickname)+" 的待辦清單",1)])):Y("",!0),b("li",null,[E.loginStatus?(M(),R("a",{key:0,href:"#",onClick:l[0]||(l[0]=Q(n=>s("sign-out"),["prevent"]))},"登出")):Y("",!0)])])]))}};var Lt={exports:{}},it={exports:{}},rt={exports:{}};/*!
  * Bootstrap data.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Et;function Qt(){return Et||(Et=1,function(E,O){(function(s,i){E.exports=i()})(F,function(){const s=new Map;return{set(l,n,o){s.has(l)||s.set(l,new Map);const e=s.get(l);if(!e.has(n)&&e.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(e.keys())[0]}.`);return}e.set(n,o)},get(l,n){return s.has(l)&&s.get(l).get(n)||null},remove(l,n){if(!s.has(l))return;const o=s.get(l);o.delete(n),o.size===0&&s.delete(l)}}})}(rt)),rt.exports}var at={exports:{}},tt={exports:{}};/*!
  * Bootstrap index.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var vt;function H(){return vt||(vt=1,function(E,O){(function(s,i){i(O)})(F,function(s){const n="transitionend",o=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(h,u)=>`#${CSS.escape(u)}`)),t),e=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),d=t=>{do t+=Math.floor(Math.random()*1e6);while(document.getElementById(t));return t},m=t=>{if(!t)return 0;let{transitionDuration:h,transitionDelay:u}=window.getComputedStyle(t);const x=Number.parseFloat(h),k=Number.parseFloat(u);return!x&&!k?0:(h=h.split(",")[0],u=u.split(",")[0],(Number.parseFloat(h)+Number.parseFloat(u))*1e3)},T=t=>{t.dispatchEvent(new Event(n))},f=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),a=t=>f(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(o(t)):null,r=t=>{if(!f(t)||t.getClientRects().length===0)return!1;const h=getComputedStyle(t).getPropertyValue("visibility")==="visible",u=t.closest("details:not([open])");if(!u)return h;if(u!==t){const x=t.closest("summary");if(x&&x.parentNode!==u||x===null)return!1}return h},D=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",N=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const h=t.getRootNode();return h instanceof ShadowRoot?h:null}return t instanceof ShadowRoot?t:t.parentNode?N(t.parentNode):null},I=()=>{},S=t=>{t.offsetHeight},V=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,P=[],W=t=>{document.readyState==="loading"?(P.length||document.addEventListener("DOMContentLoaded",()=>{for(const h of P)h()}),P.push(t)):t()},U=()=>document.documentElement.dir==="rtl",g=t=>{W(()=>{const h=V();if(h){const u=t.NAME,x=h.fn[u];h.fn[u]=t.jQueryInterface,h.fn[u].Constructor=t,h.fn[u].noConflict=()=>(h.fn[u]=x,t.jQueryInterface)}})},p=(t,h=[],u=t)=>typeof t=="function"?t(...h):u,_=(t,h,u=!0)=>{if(!u){p(t);return}const k=m(h)+5;let $=!1;const c=({target:v})=>{v===h&&($=!0,h.removeEventListener(n,c),p(t))};h.addEventListener(n,c),setTimeout(()=>{$||T(h)},k)},w=(t,h,u,x)=>{const k=t.length;let $=t.indexOf(h);return $===-1?!u&&x?t[k-1]:t[0]:($+=u?1:-1,x&&($=($+k)%k),t[Math.max(0,Math.min($,k-1))])};s.defineJQueryPlugin=g,s.execute=p,s.executeAfterTransition=_,s.findShadowRoot=N,s.getElement=a,s.getNextActiveElement=w,s.getTransitionDurationFromElement=m,s.getUID=d,s.getjQuery=V,s.isDisabled=D,s.isElement=f,s.isRTL=U,s.isVisible=r,s.noop=I,s.onDOMContentLoaded=W,s.parseSelector=o,s.reflow=S,s.toType=e,s.triggerTransitionEnd=T,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(tt,tt.exports)),tt.exports}/*!
  * Bootstrap event-handler.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var yt;function Z(){return yt||(yt=1,function(E,O){(function(s,i){E.exports=i(H())})(F,function(s){const i=/[^.]*(?=\..*)\.|.*/,l=/\..*/,n=/::\d+$/,o={};let e=1;const d={mouseenter:"mouseover",mouseleave:"mouseout"},m=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function T(g,p){return p&&`${p}::${e++}`||g.uidEvent||e++}function f(g){const p=T(g);return g.uidEvent=p,o[p]=o[p]||{},o[p]}function a(g,p){return function _(w){return U(w,{delegateTarget:g}),_.oneOff&&W.off(g,w.type,p),p.apply(g,[w])}}function r(g,p,_){return function w(t){const h=g.querySelectorAll(p);for(let{target:u}=t;u&&u!==this;u=u.parentNode)for(const x of h)if(x===u)return U(t,{delegateTarget:u}),w.oneOff&&W.off(g,t.type,p,_),_.apply(u,[t])}}function D(g,p,_=null){return Object.values(g).find(w=>w.callable===p&&w.delegationSelector===_)}function N(g,p,_){const w=typeof p=="string",t=w?_:p||_;let h=P(g);return m.has(h)||(h=g),[w,t,h]}function I(g,p,_,w,t){if(typeof p!="string"||!g)return;let[h,u,x]=N(p,_,w);p in d&&(u=(z=>function(A){if(!A.relatedTarget||A.relatedTarget!==A.delegateTarget&&!A.delegateTarget.contains(A.relatedTarget))return z.call(this,A)})(u));const k=f(g),$=k[x]||(k[x]={}),c=D($,u,h?_:null);if(c){c.oneOff=c.oneOff&&t;return}const v=T(u,p.replace(i,"")),y=h?r(g,_,u):a(g,u);y.delegationSelector=h?_:null,y.callable=u,y.oneOff=t,y.uidEvent=v,$[v]=y,g.addEventListener(x,y,h)}function S(g,p,_,w,t){const h=D(p[_],w,t);h&&(g.removeEventListener(_,h,!!t),delete p[_][h.uidEvent])}function V(g,p,_,w){const t=p[_]||{};for(const[h,u]of Object.entries(t))h.includes(w)&&S(g,p,_,u.callable,u.delegationSelector)}function P(g){return g=g.replace(l,""),d[g]||g}const W={on(g,p,_,w){I(g,p,_,w,!1)},one(g,p,_,w){I(g,p,_,w,!0)},off(g,p,_,w){if(typeof p!="string"||!g)return;const[t,h,u]=N(p,_,w),x=u!==p,k=f(g),$=k[u]||{},c=p.startsWith(".");if(typeof h<"u"){if(!Object.keys($).length)return;S(g,k,u,h,t?_:null);return}if(c)for(const v of Object.keys(k))V(g,k,v,p.slice(1));for(const[v,y]of Object.entries($)){const C=v.replace(n,"");(!x||p.includes(C))&&S(g,k,u,y.callable,y.delegationSelector)}},trigger(g,p,_){if(typeof p!="string"||!g)return null;const w=s.getjQuery(),t=P(p),h=p!==t;let u=null,x=!0,k=!0,$=!1;h&&w&&(u=w.Event(p,_),w(g).trigger(u),x=!u.isPropagationStopped(),k=!u.isImmediatePropagationStopped(),$=u.isDefaultPrevented());const c=U(new Event(p,{bubbles:x,cancelable:!0}),_);return $&&c.preventDefault(),k&&g.dispatchEvent(c),c.defaultPrevented&&u&&u.preventDefault(),c}};function U(g,p={}){for(const[_,w]of Object.entries(p))try{g[_]=w}catch{Object.defineProperty(g,_,{configurable:!0,get(){return w}})}return g}return W})}(at)),at.exports}var lt={exports:{}},ut={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Tt;function Mt(){return Tt||(Tt=1,function(E,O){(function(s,i){E.exports=i()})(F,function(){function s(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function i(n){return n.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}return{setDataAttribute(n,o,e){n.setAttribute(`data-bs-${i(o)}`,e)},removeDataAttribute(n,o){n.removeAttribute(`data-bs-${i(o)}`)},getDataAttributes(n){if(!n)return{};const o={},e=Object.keys(n.dataset).filter(d=>d.startsWith("bs")&&!d.startsWith("bsConfig"));for(const d of e){let m=d.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1,m.length),o[m]=s(n.dataset[d])}return o},getDataAttribute(n,o){return s(n.getAttribute(`data-bs-${i(o)}`))}}})}(ut)),ut.exports}/*!
  * Bootstrap config.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var At;function _t(){return At||(At=1,function(E,O){(function(s,i){E.exports=i(Mt(),H())})(F,function(s,i){class l{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(o){return o=this._mergeConfigObj(o),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}_configAfterMerge(o){return o}_mergeConfigObj(o,e){const d=i.isElement(e)?s.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof d=="object"?d:{},...i.isElement(e)?s.getDataAttributes(e):{},...typeof o=="object"?o:{}}}_typeCheckConfig(o,e=this.constructor.DefaultType){for(const[d,m]of Object.entries(e)){const T=o[d],f=i.isElement(T)?"element":i.toType(T);if(!new RegExp(m).test(f))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${d}" provided type "${f}" but expected type "${m}".`)}}}return l})}(lt)),lt.exports}/*!
  * Bootstrap base-component.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wt;function Ht(){return wt||(wt=1,function(E,O){(function(s,i){E.exports=i(Qt(),Z(),_t(),H())})(F,function(s,i,l,n){const o="5.3.3";class e extends l{constructor(m,T){super(),m=n.getElement(m),m&&(this._element=m,this._config=this._getConfig(T),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),i.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,T,f=!0){n.executeAfterTransition(m,T,f)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return s.get(n.getElement(m),this.DATA_KEY)}static getOrCreateInstance(m,T={}){return this.getInstance(m)||new this(m,typeof T=="object"?T:null)}static get VERSION(){return o}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}return e})}(it)),it.exports}var ct={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ct;function nt(){return Ct||(Ct=1,function(E,O){(function(s,i){E.exports=i(H())})(F,function(s){const i=n=>{let o=n.getAttribute("data-bs-target");if(!o||o==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),o=e&&e!=="#"?e.trim():null}return o?o.split(",").map(e=>s.parseSelector(e)).join(","):null},l={find(n,o=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(o,n))},findOne(n,o=document.documentElement){return Element.prototype.querySelector.call(o,n)},children(n,o){return[].concat(...n.children).filter(e=>e.matches(o))},parents(n,o){const e=[];let d=n.parentNode.closest(o);for(;d;)e.push(d),d=d.parentNode.closest(o);return e},prev(n,o){let e=n.previousElementSibling;for(;e;){if(e.matches(o))return[e];e=e.previousElementSibling}return[]},next(n,o){let e=n.nextElementSibling;for(;e;){if(e.matches(o))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const o=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(o,n).filter(e=>!s.isDisabled(e)&&s.isVisible(e))},getSelectorFromElement(n){const o=i(n);return o&&l.findOne(o)?o:null},getElementFromSelector(n){const o=i(n);return o?l.findOne(o):null},getMultipleElementsFromSelector(n){const o=i(n);return o?l.find(o):[]}};return l})}(ct)),ct.exports}var dt={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Dt;function Gt(){return Dt||(Dt=1,function(E,O){(function(s,i){E.exports=i(Z(),_t(),H())})(F,function(s,i,l){const n="backdrop",o="fade",e="show",d=`mousedown.bs.${n}`,m={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},T={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class f extends i{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return m}static get DefaultType(){return T}static get NAME(){return n}show(r){if(!this._config.isVisible){l.execute(r);return}this._append();const D=this._getElement();this._config.isAnimated&&l.reflow(D),D.classList.add(e),this._emulateAnimation(()=>{l.execute(r)})}hide(r){if(!this._config.isVisible){l.execute(r);return}this._getElement().classList.remove(e),this._emulateAnimation(()=>{this.dispose(),l.execute(r)})}dispose(){this._isAppended&&(s.off(this._element,d),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add(o),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=l.getElement(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),s.on(r,d,()=>{l.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){l.executeAfterTransition(r,this._getElement(),this._config.isAnimated)}}return f})}(dt)),dt.exports}var et={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var St;function Jt(){return St||(St=1,function(E,O){(function(s,i){i(O,Z(),nt(),H())})(F,function(s,i,l,n){const o=(e,d="hide")=>{const m=`click.dismiss${e.EVENT_KEY}`,T=e.NAME;i.on(document,m,`[data-bs-dismiss="${T}"]`,function(f){if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),n.isDisabled(this))return;const a=l.getElementFromSelector(this)||this.closest(`.${T}`);e.getOrCreateInstance(a)[d]()})};s.enableDismissTrigger=o,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(et,et.exports)),et.exports}var ft={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var xt;function Xt(){return xt||(xt=1,function(E,O){(function(s,i){E.exports=i(Z(),nt(),_t())})(F,function(s,i,l){const n="focustrap",e=".bs.focustrap",d=`focusin${e}`,m=`keydown.tab${e}`,T="Tab",f="forward",a="backward",r={autofocus:!0,trapElement:null},D={autofocus:"boolean",trapElement:"element"};class N extends l{constructor(S){super(),this._config=this._getConfig(S),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return r}static get DefaultType(){return D}static get NAME(){return n}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),s.off(document,e),s.on(document,d,S=>this._handleFocusin(S)),s.on(document,m,S=>this._handleKeydown(S)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,s.off(document,e))}_handleFocusin(S){const{trapElement:V}=this._config;if(S.target===document||S.target===V||V.contains(S.target))return;const P=i.focusableChildren(V);P.length===0?V.focus():this._lastTabNavDirection===a?P[P.length-1].focus():P[0].focus()}_handleKeydown(S){S.key===T&&(this._lastTabNavDirection=S.shiftKey?a:f)}}return N})}(ft)),ft.exports}var ht={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Nt;function Zt(){return Nt||(Nt=1,function(E,O){(function(s,i){E.exports=i(Mt(),nt(),H())})(F,function(s,i,l){const n=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",o=".sticky-top",e="padding-right",d="margin-right";class m{constructor(){this._element=document.body}getWidth(){const f=document.documentElement.clientWidth;return Math.abs(window.innerWidth-f)}hide(){const f=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,e,a=>a+f),this._setElementAttributes(n,e,a=>a+f),this._setElementAttributes(o,d,a=>a-f)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,e),this._resetElementAttributes(n,e),this._resetElementAttributes(o,d)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(f,a,r){const D=this.getWidth(),N=I=>{if(I!==this._element&&window.innerWidth>I.clientWidth+D)return;this._saveInitialAttribute(I,a);const S=window.getComputedStyle(I).getPropertyValue(a);I.style.setProperty(a,`${r(Number.parseFloat(S))}px`)};this._applyManipulationCallback(f,N)}_saveInitialAttribute(f,a){const r=f.style.getPropertyValue(a);r&&s.setDataAttribute(f,a,r)}_resetElementAttributes(f,a){const r=D=>{const N=s.getDataAttribute(D,a);if(N===null){D.style.removeProperty(a);return}s.removeDataAttribute(D,a),D.style.setProperty(a,N)};this._applyManipulationCallback(f,r)}_applyManipulationCallback(f,a){if(l.isElement(f)){a(f);return}for(const r of i.find(f,this._element))a(r)}}return m})}(ht)),ht.exports}/*!
  * Bootstrap modal.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(E,O){(function(s,i){E.exports=i(Ht(),Z(),nt(),Gt(),Jt(),Xt(),H(),Zt())})(F,function(s,i,l,n,o,e,d,m){const T="modal",a=".bs.modal",r=".data-api",D="Escape",N=`hide${a}`,I=`hidePrevented${a}`,S=`hidden${a}`,V=`show${a}`,P=`shown${a}`,W=`resize${a}`,U=`click.dismiss${a}`,g=`mousedown.dismiss${a}`,p=`keydown.dismiss${a}`,_=`click${a}${r}`,w="modal-open",t="fade",h="show",u="modal-static",x=".modal.show",k=".modal-dialog",$=".modal-body",c='[data-bs-toggle="modal"]',v={backdrop:!0,focus:!0,keyboard:!0},y={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class C extends s{constructor(A,L){super(A,L),this._dialog=l.findOne(k,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new m,this._addEventListeners()}static get Default(){return v}static get DefaultType(){return y}static get NAME(){return T}toggle(A){return this._isShown?this.hide():this.show(A)}show(A){this._isShown||this._isTransitioning||i.trigger(this._element,V,{relatedTarget:A}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(w),this._adjustDialog(),this._backdrop.show(()=>this._showElement(A)))}hide(){!this._isShown||this._isTransitioning||i.trigger(this._element,N).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(h),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){i.off(window,a),i.off(this._dialog,a),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new n({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new e({trapElement:this._element})}_showElement(A){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const L=l.findOne($,this._dialog);L&&(L.scrollTop=0),d.reflow(this._element),this._element.classList.add(h);const q=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,i.trigger(this._element,P,{relatedTarget:A})};this._queueCallback(q,this._dialog,this._isAnimated())}_addEventListeners(){i.on(this._element,p,A=>{if(A.key===D){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),i.on(window,W,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),i.on(this._element,g,A=>{i.one(this._element,U,L=>{if(!(this._element!==A.target||this._element!==L.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(w),this._resetAdjustments(),this._scrollBar.reset(),i.trigger(this._element,S)})}_isAnimated(){return this._element.classList.contains(t)}_triggerBackdropTransition(){if(i.trigger(this._element,I).defaultPrevented)return;const L=this._element.scrollHeight>document.documentElement.clientHeight,q=this._element.style.overflowY;q==="hidden"||this._element.classList.contains(u)||(L||(this._element.style.overflowY="hidden"),this._element.classList.add(u),this._queueCallback(()=>{this._element.classList.remove(u),this._queueCallback(()=>{this._element.style.overflowY=q},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const A=this._element.scrollHeight>document.documentElement.clientHeight,L=this._scrollBar.getWidth(),q=L>0;if(q&&!A){const X=d.isRTL()?"paddingLeft":"paddingRight";this._element.style[X]=`${L}px`}if(!q&&A){const X=d.isRTL()?"paddingRight":"paddingLeft";this._element.style[X]=`${L}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(A,L){return this.each(function(){const q=C.getOrCreateInstance(this,A);if(typeof A=="string"){if(typeof q[A]>"u")throw new TypeError(`No method named "${A}"`);q[A](L)}})}}return i.on(document,_,c,function(z){const A=l.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&z.preventDefault(),i.one(A,V,X=>{X.defaultPrevented||i.one(A,S,()=>{d.isVisible(this)&&this.focus()})});const L=l.findOne(x);L&&C.getInstance(L).hide(),C.getOrCreateInstance(A).toggle(this)}),o.enableDismissTrigger(C),d.defineJQueryPlugin(C),C})})(Lt);var te=Lt.exports;const ee=Rt(te),se={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},ne={class:"modal-content"},oe={class:"modal-header"},ie={class:"modal-title"},re=b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ae={class:"modal-body"},le={key:0},ue={class:"modal-footer"},ce={__name:"AlertModal",props:{editText:{},editTextModifiers:{}},emits:gt(["clear-text","delete-press","update-press"],["update:editText"]),setup(E,{expose:O,emit:s}){const i=K(null),l=K(null),n=K({}),o=s;let e=K(""),d=kt(E,"editText");Ot(()=>{l.value=new ee(i.value)});const m=(a,r)=>{n.value=a,d.value=a.content,e.value=r,l.value.show()},T=()=>{l.value.hide(),o("clear-text")},f=()=>{l.value.hide(),e.value==="D"?o("delete-press",n.value):o("update-press",n.value)};return O({myModal_show:m,myModal_hide:T}),(a,r)=>(M(),R("div",{class:"modal",tabindex:"-1",ref_key:"modal",ref:i},[b("div",se,[b("div",ne,[b("div",oe,[b("h5",ie,B(j(e)==="D"?"是否刪除此待辦清單":"更新待辦清單內容")+B(n.value.id),1),re]),b("div",ae,[j(e)==="D"?(M(),R("p",le,B(n.value.content),1)):Y("",!0),j(e)==="E"?mt((M(),R("input",{key:1,type:"text","onUpdate:modelValue":r[0]||(r[0]=D=>pt(d)?d.value=D:d=D),value:"editText",placeholder:"請輸入待辦事項",style:{width:"100%"}},null,512)),[[$t,j(d)]]):Y("",!0)]),b("div",ue,[b("button",{type:"button",class:"btn btn-secondary",onClick:r[1]||(r[1]=D=>T())}," 取消 "),b("button",{type:"button",class:"btn btn-primary",onClick:r[2]||(r[2]=D=>f())},B(j(e)==="D"?"確認刪除":"確認更新"),1)])])])],512))}},de={class:"conatiner todoListPage vhContainerHalf"},fe={class:"todoList_Content"},he={key:0,class:"todoList_list_empty"},ge={class:"formControls",style:{"margin-left":"0px","padding-top":"30px"}},me=b("a",{href:"#"},[b("img",{class:"logoImg",src:"https://img.freepik.com/free-vector/forgot-password-concept-illustration_114360-1123.jpg?t=st=1724662661~exp=1724666261~hmac=a6a692826766b8cdb5b35830e2ae839338351078601c524111877893ea48e371&w=826",alt:"",style:{width:"250px"}})],-1),pe=b("h2",{class:"formControls_txt"},"請先登入",-1),_e={key:1},be={class:"inputBox"},Ee=b("i",{class:"fa fa-plus"},null,-1),ve=[Ee],ye={class:"todoList_list"},Te={key:0,class:"todoList_tab"},Ae={key:1,class:"todoList_list_empty"},we=b("p",null,"目前尚無待辦事項",-1),Ce=[we],De={key:2,class:"todoList_items"},Se={class:"todoList_label"},xe=["onUpdate:modelValue","onClick"],Ne=["onClick"],ke=b("i",{class:"fa fa-edit"},null,-1),Oe=[ke],$e=["onClick"],Le=b("i",{class:"fa fa-copy"},null,-1),Me=[Le],Re=["onClick"],Ie=b("i",{class:"fa fa-times"},null,-1),Ve=[Ie],Pe={key:0},Ke={class:"todoList_statistics"},Be={class:"progress"},Fe={__name:"TodoContent",props:gt({todoLists:Object,filterTodos:Object,loginStatus:Boolean,selectedTab:Number},{editText:{},editTextModifiers:{}}),emits:gt(["go-page","create-item","change-tab","toggle-todo","copy-todo","clear-text","delete-todo","update-todo"],["update:editText"]),setup(E,{emit:O}){const s=O,i=E;let l=kt(E,"editText");const n=K(null),o=()=>i.todoLists.filter(f=>f.status===!0),e=()=>i.todoLists.filter(f=>f.status===!1),d=()=>i.todoLists.length===0?"0%":(o().length/i.todoLists.length*100).toFixed(0)+"%",m=f=>{s("update-todo",f)},T=f=>{s("delete-todo",f)};return(f,a)=>(M(),R(bt,null,[b("div",de,[b("div",fe,[E.loginStatus?Y("",!0):(M(),R("div",he,[b("form",ge,[me,pe,b("input",{class:"formControls_btnSubmit",type:"button",onClick:a[0]||(a[0]=r=>s("go-page")),value:"登入"})])])),E.loginStatus?(M(),R("div",_e,[b("div",be,[mt(b("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=r=>pt(l)?l.value=r:l=r),value:"editText",placeholder:"請輸入待辦事項"},null,512),[[$t,j(l)]]),b("a",{href:"#",onClick:a[2]||(a[2]=Q(r=>s("create-item"),["prevent"])),title:"新增"},ve)]),b("div",ye,[E.todoLists.length>0?(M(),R("ul",Te,[b("li",null,[b("a",{href:"#",onClick:a[3]||(a[3]=Q(r=>s("change-tab",0),["prevent"])),class:ot([E.selectedTab===0?"active":""])},"全部("+B(E.todoLists.length)+")",3)]),b("li",null,[b("a",{href:"#",onClick:a[4]||(a[4]=Q(r=>s("change-tab",1),["prevent"])),class:ot([E.selectedTab===1?"active":""])},"待完成("+B(e().length)+")",3)]),b("li",null,[b("a",{href:"#",onClick:a[5]||(a[5]=Q(r=>s("change-tab",2),["prevent"])),class:ot([E.selectedTab===2?"active":""])},"已完成("+B(o().length)+")",3)])])):Y("",!0),E.todoLists.length===0?(M(),R("div",Ae,Ce)):Y("",!0),E.todoLists.length>0?(M(),R("div",De,[(M(!0),R(bt,null,It(E.filterTodos,(r,D)=>(M(),R("ul",{class:"todoList_item",key:D},[b("li",null,[b("label",Se,[mt(b("input",{class:"todoList_input",type:"checkbox","onUpdate:modelValue":N=>r.status=N,onClick:N=>s("toggle-todo",r)},null,8,xe),[[Pt,r.status]]),b("span",null,B(r.content),1)]),b("a",{href:"#",title:"編輯",onClick:Q(N=>n.value.myModal_show(r,"E"),["prevent"])},Oe,8,Ne),b("a",{href:"#",title:"複製文字",onClick:Q(N=>s("copy-todo",r.content),["prevent"])},Me,8,$e),b("a",{href:"#",title:"刪除",onClick:Q(N=>n.value.myModal_show(r,"D"),["prevent"])},Ve,8,Re)])]))),128)),E.todoLists.length>0?(M(),R("div",Pe,[b("div",Ke,[b("p",null,B(e().length)+" 個待完成項目, 完成進度 "+B(d()),1)]),b("div",Be,[b("div",{class:"progress-bar",role:"progressbar",style:Vt({width:d()+""}),"aria-valuenow":"{{ parseInt(precentage())}}","aria-valuemin":"0","aria-valuemax":"100"},B(d()),5)])])):Y("",!0)])):Y("",!0)])])):Y("",!0)])]),st(ce,{ref_key:"XsModal",ref:n,editText:j(l),"onUpdate:editText":a[6]||(a[6]=r=>pt(l)?l.value=r:l=r),onUpdatePress:m,onDeletePress:T,onClearText:a[7]||(a[7]=r=>s("clear-text"))},null,8,["editText"])],64))}},qe={id:"todoListPage",class:"bg-half"},J="https://todolist-api.hexschool.io",Ye={__name:"TodoListView",setup(E){const O=Kt();Bt();const i=Ft.useLoading({}).show({backgroundColor:"#ffffff",opacity:.9});let l=K(!1),n=K(""),o=K(""),e=K("");const d=K(""),m=K(0),T=K(""),f=K([]),a=K([]),r=K({uid:"",nickname:""}),D=qt(()=>{if(m.value===0)return f.value;if(m.value===1)return f.value.filter(c=>c.status===!1);if(m.value===2)return f.value.filter(c=>c.status===!0)}),N=()=>{O.push("/")},I=c=>{m.value=c,h()},S=()=>f.value.filter(c=>c.status===!0),V=()=>f.value.filter(c=>c.status===!1),P=c=>{T.value=c},W=c=>f.value.findIndex(v=>v.content===c)!==-1,U=()=>(e=T.value===""?" 新增欄位輸入框不可為空值":"",e===""),g=()=>{T.value="",e=""},p=()=>{if(U())u();else{_("有錯誤無法新增:"+e);return}},_=c=>{a.value.push({message:c}),setTimeout(()=>{a.value.shift()},3e3)},w=async()=>{var c;d.value=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");try{const v=await G.get(`${J}/users/checkout`,{headers:{Authorization:`${d.value}`}});console.log("token.value:",d.value),n.value=v.data,r.value=v.data,l.value=(c=v.data)==null?void 0:c.status,l.value?(console.log(r.value.nickname+" 你已經登入囉"),h()):console.log("你還沒登入1!!"),setTimeout(()=>{i.hide()},800)}catch(v){setTimeout(()=>{i.hide()},800),v.code==="ERR_NETWORK"?_("錯誤:"+v.message):l.value=!1}};Ot(()=>{d.value=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),d.value!=""?(l.value=!0,w()):(i.hide(),setTimeout(()=>{N()},3e3))});const t=async()=>{try{const c=await G.post(`${J}/users/sign_out`,{},{headers:{Authorization:`${d.value}`}});o.value=c.data.message,document.cookie="myToken=; max-age=0; path=/;",console.log("你已登出,歡迎下次光臨!"),N()}catch(c){c.code==="ERR_NETWORK"?_("錯誤:"+c.message):console.log("signOut_err:",c.message)}},h=async()=>{try{const c=await G.get(`${J}/todos`,{headers:{Authorization:`${d.value}`}});f.value=c.data.data.length>0&&c.data.data,f.value=c.data.data.map(v=>({id:v.id,createTime:v.createTime,content:v.content,status:v.status,editing:!1}))}catch(c){c.code==="ERR_NETWORK"?_("錯誤:"+c.message):console.log("getTodoList_err:",c.message)}},u=async()=>{let c=T.value;if(W(c))_("已有相同待辦事項,請調整文字");else try{const v=await G.post(`${J}/todos`,{content:c},{headers:{Authorization:`${d.value}`}});let y;v.data.status==!0?(y=`新增待辦事項成功: ${c}`,g(),h()):y="新增待辦事項失敗,請稍後再試",_(y)}catch(v){let y=`新增待辦事項失敗, ${v.message}`;v.code==="ERR_NETWORK"?_("錯誤:"+v.message):(_(y),console.log("getTodoList_err:",v.message))}},x=async c=>{let v=c.id;try{const y=await G.put(`${J}/todos/${v}`,{content:T.value},{headers:{Authorization:`${d.value}`}});let C;if(y.data.status==!0){C="更新待辦事項成功";const z=f.value.findIndex(A=>A.id===c.id);f.value[z].content=T.value,g()}else C="更新待辦事項失敗,請稍後再試:"+y.data.message;_(C)}catch(y){let C=`更新待辦事項失敗, ${y.message}`;y.code==="ERR_NETWORK"?_("錯誤:"+y.message):(_(C),console.log("updateTodo_err:",y.message))}},k=async c=>{let v=c.id;try{const y=await G.delete(`${J}/todos/${v}`,{headers:{Authorization:`${d.value}`}});let C;if(y.data.status==!0){C="刪除待辦事項成功";const z=f.value.findIndex(A=>A.id===c.id);f.value.splice(z,1),g()}else C="刪除待辦事項失敗,請稍後再試:"+y.data.message;V().length===0&&S().length!==0&&(C+=", 恭喜你已完成所有待辦事項!"),_(C)}catch(y){let C=`刪除待辦事項失敗, ${y.message}`;y.code==="ERR_NETWORK"?_("錯誤:"+y.message):(_(C),console.log("deleteTodo_err:",y.message))}},$=async c=>{let v=c.id,y;try{const C=await G.patch(`${J}/todos/${v}/toggle`,{},{headers:{Authorization:`${d.value}`}});C.data.status==!0?y="待辦事項更新狀態成功":y="待辦事項更新狀態失敗,請稍後再試:"+C.data.message,g(),V().length===0&&S().length!==0&&(y+=", 恭喜你已完成所有待辦事項!"),_(y)}catch(C){let z=`更新待辦事項失敗, ${C.message}`;C.code==="ERR_NETWORK"?_("錯誤:"+C.message):(_(z),console.log("toggleTodo_err:",C.message))}};return(c,v)=>(M(),R("div",qe,[st(jt,{user:r.value,loginStatus:j(l),onSignOut:t},null,8,["user","loginStatus"]),st(Wt,{toasts:a.value},null,8,["toasts"]),st(Fe,{todoLists:f.value,filterTodos:D.value,loginStatus:j(l),selectedTab:m.value,editText:T.value,"onUpdate:editText":v[0]||(v[0]=y=>T.value=y),onGoPage:N,onCreateItem:p,onChangeTab:I,onToggleTodo:$,onCopyTodo:P,onUpdateTodo:x,onDeleteTodo:k,onClearText:g},null,8,["todoLists","filterTodos","loginStatus","selectedTab","editText"])]))}};export{Ye as default};
