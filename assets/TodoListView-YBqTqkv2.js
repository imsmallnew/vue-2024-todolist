import{o as R,c as I,a as _,t as F,k as U,d as Q,l as q,m as Rt,p as ot,r as P,q as Nt,s as Ot,i as j,w as gt,v as $t,x as mt,n as it,F as bt,y as It,z as Vt,h as st,A as Pt,e as Kt,u as Bt,f as Ft,B as qt,_ as Wt,j as G}from"./index-PhCdCfx5.js";const Yt=_("h1",null,[_("a",{href:"#"},"ONLINE TODO LIST")],-1),Ut=_("a",{href:"#"},[_("img",{class:"logoImg2",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})],-1),zt={key:0,class:"todo_sm"},jt={__name:"NavInfo",props:{user:Object,loginStatus:Boolean},emits:["sign-out"],setup(E,{emit:L}){const e=L;return(i,c)=>(R(),I("nav",null,[Yt,Ut,_("ul",null,[E.loginStatus?(R(),I("li",zt,[_("span",null,"歡迎來到 "+F(E.user.nickname)+" 的待辦清單",1)])):U("",!0),_("li",null,[E.loginStatus?(R(),I("a",{key:0,href:"#",onClick:c[0]||(c[0]=Q(n=>e("sign-out"),["prevent"]))},"登出")):U("",!0)])])]))}};var Lt={exports:{}},rt={exports:{}},at={exports:{}};/*!
  * Bootstrap data.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Et;function Qt(){return Et||(Et=1,function(E,L){(function(e,i){E.exports=i()})(q,function(){const e=new Map;return{set(c,n,s){e.has(c)||e.set(c,new Map);const o=e.get(c);if(!o.has(n)&&o.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`);return}o.set(n,s)},get(c,n){return e.has(c)&&e.get(c).get(n)||null},remove(c,n){if(!e.has(c))return;const s=e.get(c);s.delete(n),s.size===0&&e.delete(c)}}})}(at)),at.exports}var lt={exports:{}},tt={exports:{}};/*!
  * Bootstrap index.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var vt;function H(){return vt||(vt=1,function(E,L){(function(e,i){i(L)})(q,function(e){const n="transitionend",s=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(f,u)=>`#${CSS.escape(u)}`)),t),o=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),p=t=>{do t+=Math.floor(Math.random()*1e6);while(document.getElementById(t));return t},l=t=>{if(!t)return 0;let{transitionDuration:f,transitionDelay:u}=window.getComputedStyle(t);const k=Number.parseFloat(f),N=Number.parseFloat(u);return!k&&!N?0:(f=f.split(",")[0],u=u.split(",")[0],(Number.parseFloat(f)+Number.parseFloat(u))*1e3)},T=t=>{t.dispatchEvent(new Event(n))},v=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),d=t=>v(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(s(t)):null,a=t=>{if(!v(t)||t.getClientRects().length===0)return!1;const f=getComputedStyle(t).getPropertyValue("visibility")==="visible",u=t.closest("details:not([open])");if(!u)return f;if(u!==t){const k=t.closest("summary");if(k&&k.parentNode!==u||k===null)return!1}return f},m=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",O=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const f=t.getRootNode();return f instanceof ShadowRoot?f:null}return t instanceof ShadowRoot?t:t.parentNode?O(t.parentNode):null},$=()=>{},x=t=>{t.offsetHeight},K=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,V=[],Y=t=>{document.readyState==="loading"?(V.length||document.addEventListener("DOMContentLoaded",()=>{for(const f of V)f()}),V.push(t)):t()},B=()=>document.documentElement.dir==="rtl",g=t=>{Y(()=>{const f=K();if(f){const u=t.NAME,k=f.fn[u];f.fn[u]=t.jQueryInterface,f.fn[u].Constructor=t,f.fn[u].noConflict=()=>(f.fn[u]=k,t.jQueryInterface)}})},r=(t,f=[],u=t)=>typeof t=="function"?t(...f):u,y=(t,f,u=!0)=>{if(!u){r(t);return}const N=l(f)+5;let h=!1;const b=({target:C})=>{C===f&&(h=!0,f.removeEventListener(n,b),r(t))};f.addEventListener(n,b),setTimeout(()=>{h||T(f)},N)},w=(t,f,u,k)=>{const N=t.length;let h=t.indexOf(f);return h===-1?!u&&k?t[N-1]:t[0]:(h+=u?1:-1,k&&(h=(h+N)%N),t[Math.max(0,Math.min(h,N-1))])};e.defineJQueryPlugin=g,e.execute=r,e.executeAfterTransition=y,e.findShadowRoot=O,e.getElement=d,e.getNextActiveElement=w,e.getTransitionDurationFromElement=l,e.getUID=p,e.getjQuery=K,e.isDisabled=m,e.isElement=v,e.isRTL=B,e.isVisible=a,e.noop=$,e.onDOMContentLoaded=Y,e.parseSelector=s,e.reflow=x,e.toType=o,e.triggerTransitionEnd=T,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})}(tt,tt.exports)),tt.exports}/*!
  * Bootstrap event-handler.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Tt;function Z(){return Tt||(Tt=1,function(E,L){(function(e,i){E.exports=i(H())})(q,function(e){const i=/[^.]*(?=\..*)\.|.*/,c=/\..*/,n=/::\d+$/,s={};let o=1;const p={mouseenter:"mouseover",mouseleave:"mouseout"},l=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function T(g,r){return r&&`${r}::${o++}`||g.uidEvent||o++}function v(g){const r=T(g);return g.uidEvent=r,s[r]=s[r]||{},s[r]}function d(g,r){return function y(w){return B(w,{delegateTarget:g}),y.oneOff&&Y.off(g,w.type,r),r.apply(g,[w])}}function a(g,r,y){return function w(t){const f=g.querySelectorAll(r);for(let{target:u}=t;u&&u!==this;u=u.parentNode)for(const k of f)if(k===u)return B(t,{delegateTarget:u}),w.oneOff&&Y.off(g,t.type,r,y),y.apply(u,[t])}}function m(g,r,y=null){return Object.values(g).find(w=>w.callable===r&&w.delegationSelector===y)}function O(g,r,y){const w=typeof r=="string",t=w?y:r||y;let f=V(g);return l.has(f)||(f=g),[w,t,f]}function $(g,r,y,w,t){if(typeof r!="string"||!g)return;let[f,u,k]=O(r,y,w);r in p&&(u=(z=>function(A){if(!A.relatedTarget||A.relatedTarget!==A.delegateTarget&&!A.delegateTarget.contains(A.relatedTarget))return z.call(this,A)})(u));const N=v(g),h=N[k]||(N[k]={}),b=m(h,u,f?y:null);if(b){b.oneOff=b.oneOff&&t;return}const C=T(u,r.replace(i,"")),D=f?a(g,y,u):d(g,u);D.delegationSelector=f?y:null,D.callable=u,D.oneOff=t,D.uidEvent=C,h[C]=D,g.addEventListener(k,D,f)}function x(g,r,y,w,t){const f=m(r[y],w,t);f&&(g.removeEventListener(y,f,!!t),delete r[y][f.uidEvent])}function K(g,r,y,w){const t=r[y]||{};for(const[f,u]of Object.entries(t))f.includes(w)&&x(g,r,y,u.callable,u.delegationSelector)}function V(g){return g=g.replace(c,""),p[g]||g}const Y={on(g,r,y,w){$(g,r,y,w,!1)},one(g,r,y,w){$(g,r,y,w,!0)},off(g,r,y,w){if(typeof r!="string"||!g)return;const[t,f,u]=O(r,y,w),k=u!==r,N=v(g),h=N[u]||{},b=r.startsWith(".");if(typeof f<"u"){if(!Object.keys(h).length)return;x(g,N,u,f,t?y:null);return}if(b)for(const C of Object.keys(N))K(g,N,C,r.slice(1));for(const[C,D]of Object.entries(h)){const S=C.replace(n,"");(!k||r.includes(S))&&x(g,N,u,D.callable,D.delegationSelector)}},trigger(g,r,y){if(typeof r!="string"||!g)return null;const w=e.getjQuery(),t=V(r),f=r!==t;let u=null,k=!0,N=!0,h=!1;f&&w&&(u=w.Event(r,y),w(g).trigger(u),k=!u.isPropagationStopped(),N=!u.isImmediatePropagationStopped(),h=u.isDefaultPrevented());const b=B(new Event(r,{bubbles:k,cancelable:!0}),y);return h&&b.preventDefault(),N&&g.dispatchEvent(b),b.defaultPrevented&&u&&u.preventDefault(),b}};function B(g,r={}){for(const[y,w]of Object.entries(r))try{g[y]=w}catch{Object.defineProperty(g,y,{configurable:!0,get(){return w}})}return g}return Y})}(lt)),lt.exports}var ut={exports:{}},ct={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var yt;function Mt(){return yt||(yt=1,function(E,L){(function(e,i){E.exports=i()})(q,function(){function e(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function i(n){return n.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`)}return{setDataAttribute(n,s,o){n.setAttribute(`data-bs-${i(s)}`,o)},removeDataAttribute(n,s){n.removeAttribute(`data-bs-${i(s)}`)},getDataAttributes(n){if(!n)return{};const s={},o=Object.keys(n.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of o){let l=p.replace(/^bs/,"");l=l.charAt(0).toLowerCase()+l.slice(1,l.length),s[l]=e(n.dataset[p])}return s},getDataAttribute(n,s){return e(n.getAttribute(`data-bs-${i(s)}`))}}})}(ct)),ct.exports}/*!
  * Bootstrap config.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var At;function _t(){return At||(At=1,function(E,L){(function(e,i){E.exports=i(Mt(),H())})(q,function(e,i){class c{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(s){return s=this._mergeConfigObj(s),s=this._configAfterMerge(s),this._typeCheckConfig(s),s}_configAfterMerge(s){return s}_mergeConfigObj(s,o){const p=i.isElement(o)?e.getDataAttribute(o,"config"):{};return{...this.constructor.Default,...typeof p=="object"?p:{},...i.isElement(o)?e.getDataAttributes(o):{},...typeof s=="object"?s:{}}}_typeCheckConfig(s,o=this.constructor.DefaultType){for(const[p,l]of Object.entries(o)){const T=s[p],v=i.isElement(T)?"element":i.toType(T);if(!new RegExp(l).test(v))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${v}" but expected type "${l}".`)}}}return c})}(ut)),ut.exports}/*!
  * Bootstrap base-component.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wt;function Ht(){return wt||(wt=1,function(E,L){(function(e,i){E.exports=i(Qt(),Z(),_t(),H())})(q,function(e,i,c,n){const s="5.3.3";class o extends c{constructor(l,T){super(),l=n.getElement(l),l&&(this._element=l,this._config=this._getConfig(T),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),i.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,T,v=!0){n.executeAfterTransition(l,T,v)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return e.get(n.getElement(l),this.DATA_KEY)}static getOrCreateInstance(l,T={}){return this.getInstance(l)||new this(l,typeof T=="object"?T:null)}static get VERSION(){return s}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}return o})}(rt)),rt.exports}var dt={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ct;function nt(){return Ct||(Ct=1,function(E,L){(function(e,i){E.exports=i(H())})(q,function(e){const i=n=>{let s=n.getAttribute("data-bs-target");if(!s||s==="#"){let o=n.getAttribute("href");if(!o||!o.includes("#")&&!o.startsWith("."))return null;o.includes("#")&&!o.startsWith("#")&&(o=`#${o.split("#")[1]}`),s=o&&o!=="#"?o.trim():null}return s?s.split(",").map(o=>e.parseSelector(o)).join(","):null},c={find(n,s=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(s,n))},findOne(n,s=document.documentElement){return Element.prototype.querySelector.call(s,n)},children(n,s){return[].concat(...n.children).filter(o=>o.matches(s))},parents(n,s){const o=[];let p=n.parentNode.closest(s);for(;p;)o.push(p),p=p.parentNode.closest(s);return o},prev(n,s){let o=n.previousElementSibling;for(;o;){if(o.matches(s))return[o];o=o.previousElementSibling}return[]},next(n,s){let o=n.nextElementSibling;for(;o;){if(o.matches(s))return[o];o=o.nextElementSibling}return[]},focusableChildren(n){const s=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(o=>`${o}:not([tabindex^="-"])`).join(",");return this.find(s,n).filter(o=>!e.isDisabled(o)&&e.isVisible(o))},getSelectorFromElement(n){const s=i(n);return s&&c.findOne(s)?s:null},getElementFromSelector(n){const s=i(n);return s?c.findOne(s):null},getMultipleElementsFromSelector(n){const s=i(n);return s?c.find(s):[]}};return c})}(dt)),dt.exports}var ft={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Dt;function Gt(){return Dt||(Dt=1,function(E,L){(function(e,i){E.exports=i(Z(),_t(),H())})(q,function(e,i,c){const n="backdrop",s="fade",o="show",p=`mousedown.bs.${n}`,l={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},T={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class v extends i{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return l}static get DefaultType(){return T}static get NAME(){return n}show(a){if(!this._config.isVisible){c.execute(a);return}this._append();const m=this._getElement();this._config.isAnimated&&c.reflow(m),m.classList.add(o),this._emulateAnimation(()=>{c.execute(a)})}hide(a){if(!this._config.isVisible){c.execute(a);return}this._getElement().classList.remove(o),this._emulateAnimation(()=>{this.dispose(),c.execute(a)})}dispose(){this._isAppended&&(e.off(this._element,p),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add(s),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=c.getElement(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),e.on(a,p,()=>{c.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){c.executeAfterTransition(a,this._getElement(),this._config.isAnimated)}}return v})}(ft)),ft.exports}var et={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var St;function Jt(){return St||(St=1,function(E,L){(function(e,i){i(L,Z(),nt(),H())})(q,function(e,i,c,n){const s=(o,p="hide")=>{const l=`click.dismiss${o.EVENT_KEY}`,T=o.NAME;i.on(document,l,`[data-bs-dismiss="${T}"]`,function(v){if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),n.isDisabled(this))return;const d=c.getElementFromSelector(this)||this.closest(`.${T}`);o.getOrCreateInstance(d)[p]()})};e.enableDismissTrigger=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})}(et,et.exports)),et.exports}var ht={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var xt;function Xt(){return xt||(xt=1,function(E,L){(function(e,i){E.exports=i(Z(),nt(),_t())})(q,function(e,i,c){const n="focustrap",o=".bs.focustrap",p=`focusin${o}`,l=`keydown.tab${o}`,T="Tab",v="forward",d="backward",a={autofocus:!0,trapElement:null},m={autofocus:"boolean",trapElement:"element"};class O extends c{constructor(x){super(),this._config=this._getConfig(x),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return a}static get DefaultType(){return m}static get NAME(){return n}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),e.off(document,o),e.on(document,p,x=>this._handleFocusin(x)),e.on(document,l,x=>this._handleKeydown(x)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,e.off(document,o))}_handleFocusin(x){const{trapElement:K}=this._config;if(x.target===document||x.target===K||K.contains(x.target))return;const V=i.focusableChildren(K);V.length===0?K.focus():this._lastTabNavDirection===d?V[V.length-1].focus():V[0].focus()}_handleKeydown(x){x.key===T&&(this._lastTabNavDirection=x.shiftKey?d:v)}}return O})}(ht)),ht.exports}var pt={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var kt;function Zt(){return kt||(kt=1,function(E,L){(function(e,i){E.exports=i(Mt(),nt(),H())})(q,function(e,i,c){const n=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",s=".sticky-top",o="padding-right",p="margin-right";class l{constructor(){this._element=document.body}getWidth(){const v=document.documentElement.clientWidth;return Math.abs(window.innerWidth-v)}hide(){const v=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,o,d=>d+v),this._setElementAttributes(n,o,d=>d+v),this._setElementAttributes(s,p,d=>d-v)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,o),this._resetElementAttributes(n,o),this._resetElementAttributes(s,p)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(v,d,a){const m=this.getWidth(),O=$=>{if($!==this._element&&window.innerWidth>$.clientWidth+m)return;this._saveInitialAttribute($,d);const x=window.getComputedStyle($).getPropertyValue(d);$.style.setProperty(d,`${a(Number.parseFloat(x))}px`)};this._applyManipulationCallback(v,O)}_saveInitialAttribute(v,d){const a=v.style.getPropertyValue(d);a&&e.setDataAttribute(v,d,a)}_resetElementAttributes(v,d){const a=m=>{const O=e.getDataAttribute(m,d);if(O===null){m.style.removeProperty(d);return}e.removeDataAttribute(m,d),m.style.setProperty(d,O)};this._applyManipulationCallback(v,a)}_applyManipulationCallback(v,d){if(c.isElement(v)){d(v);return}for(const a of i.find(v,this._element))d(a)}}return l})}(pt)),pt.exports}/*!
  * Bootstrap modal.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(E,L){(function(e,i){E.exports=i(Ht(),Z(),nt(),Gt(),Jt(),Xt(),H(),Zt())})(q,function(e,i,c,n,s,o,p,l){const T="modal",d=".bs.modal",a=".data-api",m="Escape",O=`hide${d}`,$=`hidePrevented${d}`,x=`hidden${d}`,K=`show${d}`,V=`shown${d}`,Y=`resize${d}`,B=`click.dismiss${d}`,g=`mousedown.dismiss${d}`,r=`keydown.dismiss${d}`,y=`click${d}${a}`,w="modal-open",t="fade",f="show",u="modal-static",k=".modal.show",N=".modal-dialog",h=".modal-body",b='[data-bs-toggle="modal"]',C={backdrop:!0,focus:!0,keyboard:!0},D={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class S extends e{constructor(A,M){super(A,M),this._dialog=c.findOne(N,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new l,this._addEventListeners()}static get Default(){return C}static get DefaultType(){return D}static get NAME(){return T}toggle(A){return this._isShown?this.hide():this.show(A)}show(A){this._isShown||this._isTransitioning||i.trigger(this._element,K,{relatedTarget:A}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(w),this._adjustDialog(),this._backdrop.show(()=>this._showElement(A)))}hide(){!this._isShown||this._isTransitioning||i.trigger(this._element,O).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(f),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){i.off(window,d),i.off(this._dialog,d),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new n({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new o({trapElement:this._element})}_showElement(A){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const M=c.findOne(h,this._dialog);M&&(M.scrollTop=0),p.reflow(this._element),this._element.classList.add(f);const W=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,i.trigger(this._element,V,{relatedTarget:A})};this._queueCallback(W,this._dialog,this._isAnimated())}_addEventListeners(){i.on(this._element,r,A=>{if(A.key===m){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),i.on(window,Y,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),i.on(this._element,g,A=>{i.one(this._element,B,M=>{if(!(this._element!==A.target||this._element!==M.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(w),this._resetAdjustments(),this._scrollBar.reset(),i.trigger(this._element,x)})}_isAnimated(){return this._element.classList.contains(t)}_triggerBackdropTransition(){if(i.trigger(this._element,$).defaultPrevented)return;const M=this._element.scrollHeight>document.documentElement.clientHeight,W=this._element.style.overflowY;W==="hidden"||this._element.classList.contains(u)||(M||(this._element.style.overflowY="hidden"),this._element.classList.add(u),this._queueCallback(()=>{this._element.classList.remove(u),this._queueCallback(()=>{this._element.style.overflowY=W},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const A=this._element.scrollHeight>document.documentElement.clientHeight,M=this._scrollBar.getWidth(),W=M>0;if(W&&!A){const X=p.isRTL()?"paddingLeft":"paddingRight";this._element.style[X]=`${M}px`}if(!W&&A){const X=p.isRTL()?"paddingRight":"paddingLeft";this._element.style[X]=`${M}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(A,M){return this.each(function(){const W=S.getOrCreateInstance(this,A);if(typeof A=="string"){if(typeof W[A]>"u")throw new TypeError(`No method named "${A}"`);W[A](M)}})}}return i.on(document,y,b,function(z){const A=c.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&z.preventDefault(),i.one(A,K,X=>{X.defaultPrevented||i.one(A,x,()=>{p.isVisible(this)&&this.focus()})});const M=c.findOne(k);M&&S.getInstance(M).hide(),S.getOrCreateInstance(A).toggle(this)}),s.enableDismissTrigger(S),p.defineJQueryPlugin(S),S})})(Lt);var te=Lt.exports;const ee=Rt(te),se={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},oe={class:"modal-content"},ne={class:"modal-header"},ie={class:"modal-title"},re=_("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ae={class:"modal-body"},le={key:0},ue={class:"modal-footer"},ce={__name:"AlertModal",props:ot({todoLists:Object},{editText:{},editTextModifiers:{}}),emits:ot(["clear-text","delete-press","update-press","toggle-toast"],["update:editText"]),setup(E,{expose:L,emit:e}){const i=E,c=P(null),n=P(null),s=P({}),o=e;let p=P(""),l=Nt(E,"editText");Ot(()=>{n.value=new ee(c.value)});const T=(a,m)=>{s.value=a,l.value=a.content,p.value=m,n.value.show()},v=()=>{n.value.hide(),o("clear-text")},d=()=>{p.value==="D"?(o("delete-press",s.value),n.value.hide()):i.todoLists.filter(a=>a.id!==s.value.id).findIndex(a=>a.content===l.value)===-1?(o("update-press",s.value),n.value.hide()):o("toggle-toast","更新失敗: 已有相同待辦事項,請調整文字")};return L({myModal_show:T,myModal_hide:v}),(a,m)=>(R(),I("div",{class:"modal",tabindex:"-1",ref_key:"modal",ref:c},[_("div",se,[_("div",oe,[_("div",ne,[_("h5",ie,F(j(p)==="D"?"是否刪除此待辦清單":"更新待辦清單內容")+F(s.value.id),1),re]),_("div",ae,[j(p)==="D"?(R(),I("p",le,F(s.value.content),1)):U("",!0),j(p)==="E"?gt((R(),I("input",{key:1,type:"text","onUpdate:modelValue":m[0]||(m[0]=O=>mt(l)?l.value=O:l=O),value:"editText",placeholder:"請輸入待辦事項",style:{width:"100%"}},null,512)),[[$t,j(l)]]):U("",!0)]),_("div",ue,[_("button",{type:"button",class:"btn btn-secondary",onClick:m[1]||(m[1]=O=>v())}," 取消 "),_("button",{type:"button",class:"btn btn-primary",onClick:m[2]||(m[2]=O=>d())},F(j(p)==="D"?"確認刪除":"確認更新"),1)])])])],512))}},de={class:"conatiner todoListPage vhContainerHalf"},fe={class:"todoList_Content"},he={key:0,class:"todoList_list_empty"},pe={class:"formControls",style:{"margin-left":"0px","padding-top":"30px"}},ge=_("a",{href:"#"},[_("img",{class:"logoImg",src:"https://img.freepik.com/free-vector/forgot-password-concept-illustration_114360-1123.jpg?t=st=1724662661~exp=1724666261~hmac=a6a692826766b8cdb5b35830e2ae839338351078601c524111877893ea48e371&w=826",alt:"",style:{width:"250px"}})],-1),me=_("h2",{class:"formControls_txt"},"請先登入",-1),_e={key:1},be={class:"inputBox"},Ee=_("i",{class:"fa fa-plus"},null,-1),ve=[Ee],Te={class:"todoList_list"},ye={key:0,class:"todoList_tab"},Ae={key:1,class:"todoList_list_empty"},we=_("p",null,"目前尚無待辦事項",-1),Ce=[we],De={key:2,class:"todoList_items"},Se={class:"todoList_label"},xe=["onUpdate:modelValue","onClick"],ke=["onClick"],Ne=_("i",{class:"fa fa-edit"},null,-1),Oe=[Ne],$e=["onClick"],Le=_("i",{class:"fa fa-copy"},null,-1),Me=[Le],Re=["onClick"],Ie=_("i",{class:"fa fa-times"},null,-1),Ve=[Ie],Pe={key:0},Ke={class:"todoList_statistics"},Be={class:"progress"},Fe={__name:"TodoContent",props:ot({todoLists:Object,filterTodos:Object,loginStatus:Boolean,selectedTab:String},{editText:{},editTextModifiers:{}}),emits:ot(["go-page","create-item","change-tab","toggle-todo","copy-todo","clear-text","delete-todo","update-todo","toast-popup"],["update:editText"]),setup(E,{emit:L}){const e=L,i=E;let c=Nt(E,"editText");const n=P(null),s=()=>i.todoLists.filter(d=>d.status===!0),o=()=>i.todoLists.filter(d=>d.status===!1),p=()=>i.todoLists.length===0?"0%":(s().length/i.todoLists.length*100).toFixed(0)+"%",l=d=>{e("update-todo",d)},T=d=>{e("delete-todo",d)},v=d=>{e("toast-popup",d)};return(d,a)=>(R(),I(bt,null,[_("div",de,[_("div",fe,[E.loginStatus?U("",!0):(R(),I("div",he,[_("form",pe,[ge,me,_("input",{class:"formControls_btnSubmit",type:"button",onClick:a[0]||(a[0]=m=>e("go-page")),value:"登入"})])])),E.loginStatus?(R(),I("div",_e,[_("div",be,[gt(_("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=m=>mt(c)?c.value=m:c=m),value:"editText",placeholder:"請輸入待辦事項"},null,512),[[$t,j(c),void 0,{trim:!0}]]),_("a",{href:"#",onClick:a[2]||(a[2]=Q(m=>e("create-item"),["prevent"])),title:"新增"},ve)]),_("div",Te,[E.todoLists.length>0?(R(),I("ul",ye,[_("li",null,[_("a",{href:"#",onClick:a[3]||(a[3]=Q(m=>e("change-tab","all"),["prevent"])),class:it([E.selectedTab==="all"?"active":""])},"全部("+F(E.todoLists.length)+")",3)]),_("li",null,[_("a",{href:"#",onClick:a[4]||(a[4]=Q(m=>e("change-tab","pending"),["prevent"])),class:it([E.selectedTab==="pending"?"active":""])},"待完成("+F(o().length)+")",3)]),_("li",null,[_("a",{href:"#",onClick:a[5]||(a[5]=Q(m=>e("change-tab","done"),["prevent"])),class:it([E.selectedTab==="done"?"active":""])},"已完成("+F(s().length)+")",3)])])):U("",!0),E.todoLists.length===0?(R(),I("div",Ae,Ce)):U("",!0),E.todoLists.length>0?(R(),I("div",De,[(R(!0),I(bt,null,It(E.filterTodos,(m,O)=>(R(),I("ul",{class:"todoList_item",key:O},[_("li",null,[_("label",Se,[gt(_("input",{class:"todoList_input",type:"checkbox","onUpdate:modelValue":$=>m.status=$,onClick:$=>e("toggle-todo",m)},null,8,xe),[[Pt,m.status]]),_("span",null,F(m.content),1)]),_("a",{href:"#",title:"編輯",onClick:Q($=>n.value.myModal_show(m,"E"),["prevent"])},Oe,8,ke),_("a",{href:"#",title:"複製文字",onClick:Q($=>e("copy-todo",m.content),["prevent"])},Me,8,$e),_("a",{href:"#",title:"刪除",onClick:Q($=>n.value.myModal_show(m,"D"),["prevent"])},Ve,8,Re)])]))),128)),E.todoLists.length>0?(R(),I("div",Pe,[_("div",Ke,[_("p",null,F(o().length)+" 個待完成項目, 完成進度 "+F(p()),1)]),_("div",Be,[_("div",{class:"progress-bar",role:"progressbar",style:Vt({width:p()+""}),"aria-valuenow":"{{ parseInt(precentage())}}","aria-valuemin":"0","aria-valuemax":"100"},F(p()),5)])])):U("",!0)])):U("",!0)])])):U("",!0)])]),st(ce,{ref_key:"XsModal",ref:n,todoLists:E.todoLists,editText:j(c),"onUpdate:editText":a[6]||(a[6]=m=>mt(c)?c.value=m:c=m),onUpdatePress:l,onDeletePress:T,onToggleToast:v,onClearText:a[7]||(a[7]=m=>e("clear-text"))},null,8,["todoLists","editText"])],64))}},qe={id:"todoListPage",class:"bg-half"},J="https://todolist-api.hexschool.io",Ye={__name:"TodoListView",setup(E){const L=Kt();Bt();const e=Ft.useLoading({});let i=P(!1),c=P(""),n=P(""),s=P("");const o=P(""),p=P("all"),l=P(""),T=P([]),v=P([]),d=P({uid:"",nickname:""}),a=qt(()=>{if(p.value==="all")return T.value;if(p.value==="pending")return T.value.filter(h=>h.status===!1);if(p.value==="done")return T.value.filter(h=>h.status===!0)}),m=()=>{L.push("/")},O=h=>{p.value=h,t()},$=()=>T.value.filter(h=>h.status===!0),x=()=>T.value.filter(h=>h.status===!1),K=h=>{l.value=h},V=h=>T.value.findIndex(b=>b.content===h)!==-1,Y=()=>(s=l.value===""?" 新增欄位輸入框不可為空值":"",s===""),B=()=>{l.value="",s=""},g=()=>{if(Y())f();else{r("有錯誤無法新增:"+s);return}},r=h=>{v.value.push({message:h}),setTimeout(()=>{v.value.shift()},3e3)},y=async()=>{var b;const h=e.show({backgroundColor:"#ffffff",opacity:.9});o.value=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");try{const C=await G.get(`${J}/users/checkout`,{headers:{Authorization:`${o.value}`}});c.value=C.data,d.value=C.data,i.value=(b=C.data)==null?void 0:b.status,i.value&&t(),setTimeout(()=>{h.hide()},800)}catch(C){setTimeout(()=>{h.hide()},800),C.code==="ERR_NETWORK"?r("錯誤:"+C.message):i.value=!1}};Ot(()=>{o.value=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),o.value!=""?(i.value=!0,y()):(loader.hide(),setTimeout(()=>{m()},3e3))});const w=async()=>{const h=e.show({backgroundColor:"#ffffff",opacity:.9});try{const b=await G.post(`${J}/users/sign_out`,{},{headers:{Authorization:`${o.value}`}});setTimeout(()=>{h.hide()},800),n.value=b.data.message,document.cookie="myToken=; max-age=0; path=/;",m()}catch(b){setTimeout(()=>{h.hide()},800),b.code==="ERR_NETWORK"&&r("錯誤:"+b.message)}},t=async()=>{const h=e.show({backgroundColor:"#ffffff",opacity:.9});try{const b=await G.get(`${J}/todos`,{headers:{Authorization:`${o.value}`}});T.value=b.data.data.length>0&&b.data.data,T.value=b.data.data.map(C=>({id:C.id,createTime:C.createTime,content:C.content,status:C.status,editing:!1})),setTimeout(()=>{h.hide()},800)}catch(b){setTimeout(()=>{h.hide()},800),b.code==="ERR_NETWORK"&&r("錯誤:"+b.message)}},f=async()=>{let h=l.value;if(V(h))r("已有相同待辦事項,請調整文字");else{const b=e.show({backgroundColor:"#ffffff",opacity:.9});try{const C=await G.post(`${J}/todos`,{content:h},{headers:{Authorization:`${o.value}`}});let D;C.data.status==!0?(D=`新增待辦事項成功: ${h}`,B(),t()):D="新增待辦事項失敗,請稍後再試",setTimeout(()=>{b.hide()},800),r(D)}catch(C){setTimeout(()=>{b.hide()},800);let D=`新增待辦事項失敗, ${C.message}`;C.code==="ERR_NETWORK"?r("錯誤:"+C.message):r(D)}}},u=async h=>{const b=e.show({backgroundColor:"#ffffff",opacity:.9});let C=h.id;try{const D=await G.put(`${J}/todos/${C}`,{content:l.value},{headers:{Authorization:`${o.value}`}});let S;if(D.data.status==!0){S="更新待辦事項成功";const z=T.value.findIndex(A=>A.id===h.id);T.value[z].content=l.value,B()}else S="更新待辦事項失敗,請稍後再試:"+D.data.message;setTimeout(()=>{b.hide()},800),r(S)}catch(D){setTimeout(()=>{b.hide()},800);let S=`更新待辦事項失敗, ${D.message}`;D.code==="ERR_NETWORK"?r("錯誤:"+D.message):r(S)}},k=async h=>{const b=e.show({backgroundColor:"#ffffff",opacity:.9});let C=h.id;try{const D=await G.delete(`${J}/todos/${C}`,{headers:{Authorization:`${o.value}`}});let S;if(D.data.status==!0){S="刪除待辦事項成功";const z=T.value.findIndex(A=>A.id===h.id);T.value.splice(z,1),B()}else S="刪除待辦事項失敗,請稍後再試:"+D.data.message;x().length===0&&$().length!==0&&(S+=", 恭喜你已完成所有待辦事項!"),setTimeout(()=>{b.hide()},800),r(S)}catch(D){setTimeout(()=>{b.hide()},800);let S=`刪除待辦事項失敗, ${D.message}`;D.code==="ERR_NETWORK"?r("錯誤:"+D.message):r(S)}},N=async h=>{const b=e.show({backgroundColor:"#ffffff",opacity:.9});let C=h.id,D;try{const S=await G.patch(`${J}/todos/${C}/toggle`,{},{headers:{Authorization:`${o.value}`}});S.data.status==!0?D="待辦事項更新狀態成功":D="待辦事項更新狀態失敗,請稍後再試:"+S.data.message,B(),x().length===0&&$().length!==0&&(D+=", 恭喜你已完成所有待辦事項!"),setTimeout(()=>{b.hide()},800),r(D)}catch(S){let z=`更新待辦事項失敗, ${S.message}`;S.code==="ERR_NETWORK"?r("錯誤:"+S.message):r(z)}};return(h,b)=>(R(),I("div",qe,[st(jt,{user:d.value,loginStatus:j(i),onSignOut:w},null,8,["user","loginStatus"]),st(Wt,{toasts:v.value},null,8,["toasts"]),st(Fe,{todoLists:T.value,filterTodos:a.value,loginStatus:j(i),selectedTab:p.value,editText:l.value,"onUpdate:editText":b[0]||(b[0]=C=>l.value=C),onGoPage:m,onCreateItem:g,onChangeTab:O,onToggleTodo:N,onCopyTodo:K,onUpdateTodo:u,onDeleteTodo:k,onClearText:B,onToastPopup:r},null,8,["todoLists","filterTodos","loginStatus","selectedTab","editText"])]))}};export{Ye as default};
